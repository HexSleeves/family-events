{# AI tags grid for event detail #}
{% if tags %}
<div
  class="bg-[var(--color-surface)] rounded-xl p-5 mb-4 border border-[var(--color-edge-subtle)] shadow-[var(--shadow-xs)] animate-fade-in-up stagger-1">
  <h3 class="font-semibold text-[var(--color-heading)] mb-4">ğŸ¤– AI Analysis</h3>

  <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
    {% set items = [
    ('ğŸ¯', 'Toddler Score', tags.toddler_score ~ '/10', ''),
    ('ğŸ‘¶', 'Ages', tags.age_min_recommended ~ '-' ~ tags.age_max_recommended, ''),
    ('ğŸ ', 'Setting', tags.indoor_outdoor, ''),
    ('ğŸ”Š', 'Noise', tags.noise_level, ''),
    ('ğŸ‘¥', 'Crowd', tags.crowd_level, ''),
    ('âš¡', 'Energy', tags.energy_level, ''),
    ('ğŸ˜¤', 'Meltdown Risk', tags.meltdown_risk, 'low' if tags.meltdown_risk == 'low' else 'medium' if tags.meltdown_risk
    == 'medium' else 'high'),
    ('ğŸ‘€', 'Attention', tags.parent_attention_required, ''),
    ('ğŸ›ï¸', 'Stroller', 'âœ…' if tags.stroller_friendly else 'âŒ', ''),
    ('ğŸ…¿ï¸', 'Parking', 'âœ…' if tags.parking_available else 'âŒ', ''),
    ('ğŸš»', 'Bathrooms', 'âœ…' if tags.bathroom_accessible else 'âŒ', ''),
    ('ğŸŒ§ï¸', 'Weather Dep.', 'âœ…' if tags.weather_dependent else 'âŒ', ''),
    ('ğŸ˜´', 'Nap Compatible', 'âœ…' if tags.nap_compatible else 'âŒ', ''),
    ('ğŸ”', 'Food Available', 'âœ…' if tags.food_available else 'âŒ', '')
    ] %}
    {% for icon, label, value, variant in items %}
    <div class="flex items-center gap-2.5 p-2.5 rounded-lg bg-[var(--color-surface-secondary)]">
      <span class="text-base">{{ icon }}</span>
      <div>
        <p class="text-xs text-[var(--color-faint)]">{{ label }}</p>
        <p class="text-sm font-medium text-[var(--color-heading)] capitalize
          {% if variant == 'low' %} text-[var(--color-success)]{% elif variant == 'high' %} text-[var(--color-danger)]{% endif %}
        ">{{ value }}</p>
      </div>
    </div>
    {% endfor %}
  </div>

  {% if tags.categories %}
  <div class="mt-4 pt-4 border-t border-[var(--color-edge-subtle)]">
    <p class="text-xs text-[var(--color-faint)] mb-2">Categories</p>
    <div class="flex flex-wrap gap-1.5">
      {% for cat in tags.categories %}
      <span
        class="px-2.5 py-1 rounded-full text-xs font-medium bg-[var(--color-info-light)] text-[var(--color-info)]">{{
        cat }}</span>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  {% if tags.confidence_score %}
  <p class="text-xs text-[var(--color-faint)] mt-3">Confidence: {{ '%.0f' % (tags.confidence_score * 100) }}%</p>
  {% endif %}
</div>
{% endif %}
